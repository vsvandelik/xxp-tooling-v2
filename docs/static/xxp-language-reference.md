---
title: XXP Language Reference
group: Documentation
category: User Guide
---

# XXP Language (eXperiment eXecution Plan)

XXP is the foundational language within the ExtremeXP framework, designed for defining the structure and logic of individual experiment workflows. It focuses on declaring tasks, managing their dependencies, specifying data flow, and configuring essential parameters.

## Purpose and Scope

XXP (`.xxp` files) allows you to:

* **Task Definition**: Declare individual computational steps that make up your experiment.
* **Dependency Management**: Define the execution order and data dependencies between tasks.
* **Parameter Configuration**: Set up configurable parameters for tasks, which can then be varied in ESPACE experiments.
* **Data Flow**: Specify how data inputs and outputs are handled and passed between tasks.

## Language Structure

An XXP file defines a `workflow` using a declarative syntax.

### Workflow Declaration

Every XXP file must begin with a workflow declaration:

```xxp
workflow WorkflowName {
    // Workflow content
}
````

  * `WorkflowName`: A unique identifier for your workflow, written in `CapitalizedCase`. Remember, the filename must be `camelCase` (e.g., `myWorkflow.xxp`).

#### Workflow Inheritance

XXP supports inheritance, allowing you to build new workflows upon existing ones. This promotes reusability and modularity.

```xxp
workflow ChildWorkflow from ParentWorkflow {
    // Extended or overridden content
}
```

  * `ChildWorkflow`: The name of the new workflow.
  * `ParentWorkflow`: The name of an existing workflow from which `ChildWorkflow` inherits. The `ParentWorkflow` must be defined in a separate XXP file that follows the naming conventions.

When inheriting, a child workflow can:

  * **Add new elements**: Introduce new `define data`, `define task`, or `taskChain` elements.
  * **Override `configure task`**: If a task is configured in both the parent and child workflow, the child's `configure task` block completely overrides the parent's for that specific task. This includes `implementation`, `input`, `output`, and `param` values.
  * **Extend `configure task` parameters**: If a `configure task` block in the child defines parameters that were not present in the parent's configuration for the same task, these new parameters are added to the task's configuration.

### Core Elements

Within a `workflow` block, you define its components using the following statements:

#### 1\. Data Definitions (`define data`)

Declares variables representing data inputs, outputs, or intermediate datasets within your workflow.

```xxp
define data inputData = "path/to/input.csv"; // Data with an initial string value
define data outputData;                      // Data without an initial value
```

  * `inputData`: An identifier for your data variable.
  * `= "path/to/input.csv"`: An optional initial string value. This is typically used for initial input files.
  * When a data variable is defined without an initial value (e.g., `outputData`), it often represents an output generated by a task that then becomes an input for subsequent tasks. While you can specify initial values directly in XXP, it's more common to provide initial data paths in ESPACE for the first task.

#### 2\. Task Definitions (`define task`)

Declares the individual computational steps or operations that your workflow will perform.

```xxp
define task preprocessing;
define task analysis;
```

  * `preprocessing`: A unique identifier for the task. This declaration simply names the task; its implementation and parameters are defined later in `configure task`.

#### 3\. Task Chains (`START -> ... -> END`)

Defines the sequential execution order and dependencies between tasks.

```xxp
START -> preprocessing -> analysis -> visualization -> END;
```

  * `START` and `END`: Keywords representing the beginning and end of the workflow execution flow.
  * `->`: Specifies a dependency, meaning the task on the right must execute after the task on the left completes successfully. Multiple tasks can be chained.

#### 4\. Task Configurations (`configure task`)

Provides implementation details, parameters, and input/output specifications for a previously `define`d task.

```xxp
configure task preprocessing {
    implementation "scripts/preprocess.py";
    param batch_size = 32;
    param learning_rate; // Parameter without a default value
    input rawData;
    output processedData, metadata;
}
```

  * `configure task preprocessing`: Specifies which task is being configured.
  * `implementation "scripts/preprocess.py"`: Defines the executable (e.g., a script or program) that performs this task. The path is relative to the experiment's root directory.
  * `param batch_size = 32;`: Defines a parameter for the task and assigns it a default value.
  * `param learning_rate;`: Defines a parameter without a default value. Such parameters **must be provided by an ESPACE experiment** that references this workflow. If not provided, an error will occur.
  * `input rawData;`: Specifies `rawData` as an input data variable for this task. Multiple inputs can be comma-separated.
  * `output processedData, metadata;`: Specifies `processedData` and `metadata` as output data variables generated by this task. Multiple outputs can be comma-separated.

### XXP Language Examples

#### Basic Workflow Example (`simpleAnalysis.xxp`)

```xxp
workflow SimpleAnalysis {
    define data rawData = "data/input.csv";
    define data processedData;
    define data results;

    define task dataPreprocessing;
    define task statisticalAnalysis;

    START -> dataPreprocessing -> statisticalAnalysis -> END;

    configure task dataPreprocessing {
        implementation "scripts/preprocess.py";
        param normalize = true;
        param remove_outliers = false;
        input rawData;
        output processedData;
    }

    configure task statisticalAnalysis {
        implementation "scripts/analysis.R";
        param confidence_level = 0.95;
        param test_type = "t-test";
        input processedData;
        output results;
    }
}
```

#### Workflow with Inheritance (`advancedAnalysis.xxp`)

This example inherits from `SimpleAnalysis`, adds new data and tasks, and overrides the execution chain to include the new tasks.

```xxp
workflow AdvancedAnalysis from SimpleAnalysis {
    // Add additional data
    define data modelResults;
    define data visualizations;

    // Add new task
    define task machineLearning;
    define task plotting;

    // Override execution chain from SimpleAnalysis
    START -> dataPreprocessing -> statisticalAnalysis -> machineLearning -> plotting -> END;

    // Configure new tasks
    configure task machineLearning {
        implementation "scripts/ml_model.py";
        param algorithm = "random_forest";
        param n_estimators = 100;
        input processedData;
        output modelResults;
    }

    configure task plotting {
        implementation "scripts/visualize.py";
        param plot_type = "scatter";
        param save_format = "png";
        input results, modelResults; // 'results' is inherited from SimpleAnalysis
        output visualizations;
    }
}
```

## Language Features

### Inheritance and Composition

  * **Extend Existing Workflows**: Build upon existing, validated workflows by inheriting their tasks, data definitions, and basic configurations.
  * **Override Specific Configurations**: Customize inherited tasks by completely replacing their `configure task` blocks in the child workflow.
  * **Compose Complex Experiments**: Create sophisticated experiment workflows by combining simpler, reusable components through inheritance.

### Parameterization

  * **Configurable Parameters**: Define parameters within `configure task` blocks that can be assigned default values or left undefined to be set by an ESPACE experiment.
  * **Parameter Types**: Support for numeric (integer/float), string, and boolean parameter values.

### Modularity

  * **Reusable Task Definitions**: Define tasks once and reuse them across multiple workflows.
  * **Hierarchical Organization**: Structure complex experiments into modular, manageable XXP files that can inherit from each other.

### Comments

Both XXP and ESPACE support C-style line comments, starting with `//`:

```xxp
workflow MyWorkflow {
    // This is a single-line comment
    define data input = "file.csv";  // Comments can appear at the end of a line too
}
```